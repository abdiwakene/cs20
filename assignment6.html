<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="assign6_style.css">
    
    <title>Amicable Numbers</title>
</head>
    <body>
        <div class = "site_header">
            <a href = "https://abdiwakene.github.io/cs20/assignment6.html"> <h1> Amicable Numbers </h1> </a>
        </div>

        <form>
            <h3>First Number: <input type="text" name="num_1" id="num_1"></h3>
            <br>
            <h3>Second Number: <input type="text" name="num_2" id="num_2"></h3>
            <h3><button type="button" onclick="amicable()">Check</button></h3>
        </form>

        


        <script language="javascript">

            function is_factor(x, y) {
                if (x % y == 0){
                    return true;
                } else {
                    return false;
                }
            }

            function show_factors(arr){
                for (var i = 0; i < arr.length; i++){
                    document.write(arr[i] + " ");
                }
            }

            function set_factors(arr){
                var factors = 0;
                for (i = 0; i < arr.length; i++){
                    factors += parseInt(arr[i]);
                }
                return factors;
            }

            function get_factors(number){
            var possible_factors = new Array;
                for (i = 1; i < number; i++){
                    if (is_factor(number,i) == true){
                        possible_factors.push(i);
                    }
                }
                return possible_factors;
            }

            var result = "";

            function amicable(){
                var first_num = document.getElementById('num_1').value;
                var sec_num = document.getElementById('num_2').value;
                var first_arr = get_factors(first_num);
                var sec_arr = get_factors(sec_num);
                var first_factors = set_factors(first_arr);
                var sec_factors = set_factors(sec_arr);

                if ((first_factors == sec_num) && (sec_factors == first_num)){
                    result = "<br>The numbers " + first_num + " and " + sec_num + " are amicable!";
                    document.getElementById('result').innerHTML = result;
                    alert ("Possible factors of the first number: " + get_factors(first_num) + "\nPossible factors of the second number: " + get_factors(sec_num));
                } else {
                    result = "<br>The numbers " + first_num + " and " + sec_num + " are not amicable.";
                    document.getElementById('result').innerHTML = result;
                    alert ("Possible factors of the first number: " + get_factors(first_num) + "\nPossible factors of the second number: " + get_factors(sec_num));
                }
            }

            

        </script>

        <h3><div id="result"></div></h3>
    </body>
</html>